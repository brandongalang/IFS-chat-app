# IFS Chat App environment template
# Copy this file to .env.local (Next.js) and .env (scripts) as needed.

# -----------------------------------------------------------------------------
# Core application URLs
# -----------------------------------------------------------------------------
NEXT_PUBLIC_APP_URL="http://localhost:3000"             # Public origin exposed to the browser for links and OAuth callbacks.
APP_BASE_URL="http://localhost:3000"                    # Server-render base URL fallback when Vercel vars are absent.
BASE_URL="http://localhost:3000"                        # Optional explicit base URL override (e.g. reverse proxy).
API_BASE_URL="http://localhost:3000/api"                # Optional API host override for external clients.
NEXT_PUBLIC_MASTRA_API_URL="http://localhost:4111"      # Mastra dev server base URL (npm run dev:mastra).
OPENROUTER_BASE_URL="https://openrouter.ai/api/v1"      # Override to point at self-hosted OpenRouter compatible proxy.
VERCEL_URL=""                                           # Managed by Vercel in production; leave blank locally.

# -----------------------------------------------------------------------------
# Supabase configuration
# -----------------------------------------------------------------------------
NEXT_PUBLIC_SUPABASE_URL="https://your-project.supabase.co"    # Required: Supabase project URL for client and server.
NEXT_PUBLIC_SUPABASE_ANON_KEY="public-anon-key"                # Required: Public anon key used in the browser.
SUPABASE_URL="https://your-project.supabase.co"                # Optional: Server override; defaults to NEXT_PUBLIC_SUPABASE_URL.
SUPABASE_ANON_KEY="public-anon-key"                            # Optional: Server override; defaults to NEXT_PUBLIC_SUPABASE_ANON_KEY.
SUPABASE_SERVICE_ROLE_KEY="service-role-key"                   # Required for server scripts and Edge adapters; never expose client-side.
STAGING_SUPABASE_URL="https://staging-your-project.supabase.co"        # Scripts only: staging Supabase URL for seeding commands.
STAGING_SUPABASE_SERVICE_ROLE_KEY="staging-service-role-key"           # Scripts only: staging service role key.
TARGET_ENV="development"                                      # Scripts only: set to 'staging' to target staging resources.
IFS_DEV_FORCE_NO_SUPABASE="false"                              # When 'true', bypass Supabase entirely (local offline/dev).

# -----------------------------------------------------------------------------
# Authentication & webhooks
# -----------------------------------------------------------------------------
CRON_SECRET="local-cron-secret"                         # Optional: Protects cron endpoints; set in production & Vercel Cron.

# -----------------------------------------------------------------------------
# Feature flags & dev personas
# -----------------------------------------------------------------------------
IFS_DEV_MODE="true"                                        # Enables dev tooling on the server.
NEXT_PUBLIC_IFS_DEV_MODE="true"                             # Enables dev tooling in the client bundle.
IFS_DEFAULT_USER_ID="00000000-0000-0000-0000-000000000000"   # Default user id for smoke tests and scripts.
IFS_TEST_PERSONA="beginner"                                  # Server default persona (beginner|moderate|advanced).
NEXT_PUBLIC_IFS_TEST_PERSONA="beginner"                       # Client default persona for builds.
VITE_IFS_TEST_PERSONA="beginner"                             # Legacy compatibility for Vite-based tooling.
IFS_VERBOSE="false"                                         # When 'true', logs additional debug output.
IFS_DISABLE_POLARIZATION_UPDATE="false"                      # Temporary kill switch for polarization updates.
IFS_INSIGHTS_JIT="false"                                     # Enable just-in-time insights recalculation.
IFS_INBOX="false"                                           # Server-side override to surface inbox UI.
NEXT_PUBLIC_IFS_INBOX="false"                                # Client-side override to surface inbox UI.
IFS_INBOX_ACTIONS="false"                                    # Enable inbox actions in server contexts.
NEXT_PUBLIC_IFS_INBOX_ACTIONS="false"                         # Enable inbox actions in client contexts.
ENABLE_GARDEN="true"                                        # Server flag for garden feature.
NEXT_PUBLIC_ENABLE_GARDEN="true"                             # Client flag for garden feature.
IFS_GARDEN_GRID_VIEW="false"                                 # Server override for garden grid layout.
NEXT_PUBLIC_IFS_GARDEN_GRID_VIEW="false"                      # Client override for garden grid layout.
NEXT_PUBLIC_IFS_SHOW_DEV_TOGGLE="true"                        # Show "Enable Dev Mode" toggle in production builds.

# -----------------------------------------------------------------------------
# Memory subsystem
# -----------------------------------------------------------------------------
MEMORY_STORAGE_ADAPTER="local"                               # 'local' (default) or 'supabase'.
MEMORY_LOCAL_ROOT=".data/memory-snapshots"                    # Filesystem destination when using local storage.
MEMORY_AGENTIC_V2_ENABLED="true"                              # Feature flag for Memory v2 rollout.
MEMORY_EVENTS_HMAC_SECRET="dev-only-secret"                   # HMAC secret for event integrity logging (change in prod).
USER_MEMORY_CHECKPOINT_EVERY="50"                             # Snapshot frequency for memory versioning.

# -----------------------------------------------------------------------------
# AI & tooling provider credentials
# -----------------------------------------------------------------------------
OPENROUTER_API_KEY="your_openrouter_api_key_here"             # Required for LLM-powered features (OpenRouter token).
ANTHROPIC_API_KEY="your_anthropic_api_key_here"               # Optional: Anthropic models (sk-ant-api03-...).
PERPLEXITY_API_KEY="your_perplexity_api_key_here"             # Optional: Perplexity models (pplx-...).
OPENAI_API_KEY="your_openai_api_key_here"                     # Optional: OpenAI models (sk-proj-...).
GOOGLE_API_KEY="your_google_api_key_here"                     # Optional: Google Gemini models.
MISTRAL_API_KEY="your_mistral_key_here"                       # Optional: Mistral AI models.
XAI_API_KEY="YOUR_XAI_KEY_HERE"                               # Optional: xAI models.
GROQ_API_KEY="YOUR_GROQ_KEY_HERE"                             # Optional: Groq models.
AZURE_OPENAI_API_KEY="your_azure_key_here"                    # Optional: Azure OpenAI (set endpoint separately).
OLLAMA_API_KEY="your_ollama_api_key_here"                     # Optional: Remote Ollama instances requiring auth.
GITHUB_API_KEY="your_github_api_key_here"                     # Optional: GitHub import/export tooling (ghp_... or github_pat_...).
