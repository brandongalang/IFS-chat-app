# Archived Cron Routes

This directory contains legacy cron routes that are no longer active but kept for historical reference.

## generate-insights (Archived Nov 8, 2025)

**Reason for Archival:**
- Replaced by unified inbox agent and generation workflow
- Old agent (insight-generator) is now deprecated
- All insights and observations now generated by unified-inbox agent
- Routes now use runUnifiedInboxEngine instead of runObservationEngine

**Historical Purpose:**
- Daily (8:10 AM) insight generation cron job
- Ran insight-generator agent
- Generated 4 insight types (session_summary, nudge, follow_up, observation)
- Stored to insights table

**Replacement:**
- See `app/api/cron/finalize-sessions/route.ts` for current cron
- Manual generation at `/api/inbox/generate` now uses unified engine
- Unified inbox agent generates all 6 types to inbox_items table

**Related Bead:**
- Unified Inbox System (ifs-chat-app-41, Phase 6)

---

## memory-update (Archived Nov 8, 2025)

**Reason for Archival:**
- Migration 006 dropped the `user_memory_snapshots` table
- The route had a hard dependency on this table
- Execution would always fail with table not found error
- Functionality was replaced by `finalize-sessions` cron

**Historical Purpose:**
- Daily (8:00 AM) memory update cron job
- Reconstructed user memory from snapshots and patches
- Generated daily memory updates
- Saved new memory snapshots

**Replacement:**
- See `app/api/cron/finalize-sessions/route.ts`
- Runs hourly instead of daily
- Closes stale sessions and enqueues memory update jobs

**Related Bead:**
- Unified Inbox System (ifs-chat-app-41, Phase 0)
